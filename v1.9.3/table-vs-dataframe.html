

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CASTable vs. DataFrame vs. SASDataFrame &mdash; SWAT 1.9.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indexing and Data Selection" href="indexing.html" />
    <link rel="prev" title="Loading Data" href="loading-data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SWAT
          

          
          </a>

          
            
            
              <div class="version">
                1.9.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="binary-vs-rest.html">Binary vs. REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">Encryption (SSL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading-data.html">Loading Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CASTable vs. DataFrame vs. SASDataFrame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pandas-dataframe-vs-sasdataframe">Pandas DataFrame vs. SASDataFrame</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Data Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="bygroups.html">Handling By Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="sorting.html">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Programming Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas-tk.html">SAS TK</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SWAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>CASTable vs. DataFrame vs. SASDataFrame</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/table-vs-dataframe.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="castable-vs-dataframe-vs-sasdataframe">
<span id="tblvsdf"></span><h1>CASTable vs. DataFrame vs. SASDataFrame<a class="headerlink" href="#castable-vs-dataframe-vs-sasdataframe" title="Permalink to this headline">¶</a></h1>
<p><strong>CASTable</strong> objects and DataFrame object (either <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a> or
<strong>SASDataFrame</strong>) act very similar in many ways, but they are extremely different
constructs.  <strong>CASTable</strong> objects do not contain actual data.  They are simply
a client-side view of the data in a CAS table on a CAS server.  DataFrames and
SASDataFrames contain data in-memory on the client machine.</p>
<p>Since these objects work very much the same way, it can be a little confusing when
you start to work with them.  The rule to remember is that if the type of the object
contains “DataFrame” (i.e., DataFrame or SASDataFrame), the data is local.  If the
type of the object contains “Table” or “Column” (i.e., CASTable or CASColumn), it is
a client-side view of the data in a CAS table on the server.</p>
<p>Even though they are very different architectures, <strong>CASTable</strong> objects support
much of the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a> API.  However, since CAS tables can contain
enormous amounts of data that wouldn’t fit into the memory of a single machine, there
are some differences in the way the APIs work.  The basic rules to remember
about <strong>CASTable</strong> data access are as follows.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a method returns observation-level data, it will be returned as a new
<strong>CASTable</strong> object.</p></li>
<li><p>If a method returns summarized data, it will return data as a <strong>SASDataFrame</strong>.</p></li>
</ul>
</div></blockquote>
<p>In other words, if the method is going to return a new data set with potentially
huge amounts of data, you will get a new <strong>CASTable</strong> object that is a view of that
data.  If the method is going to compute a result of some analysis that is a summary
of the data, you will get a local copy of that result in a <strong>SASDataFrame</strong>.
Most actions allow you to specify a <strong>casout=</strong> parameter that allows you to send the
summarized data to a table in the server as well.</p>
<p>The methods and properties of <strong>CASTable</strong> objects that return a new <strong>CASTable</strong>
object are <strong>loc</strong>, <strong>iloc</strong>, <strong>ix</strong>, <strong>query</strong>, <strong>sort_values</strong>, and <strong>__getitem__</strong>
(i.e., <strong>tbl[...]</strong>).  The remaining methods will return results.
A sampling of a number of methods common to both <strong>CASTable</strong> and
DataFrame are shown below with the result type of that method.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 32%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>CASTable</p></th>
<th class="head"><p>DataFrame</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>o.head()</p></td>
<td><p>DataFrame</p></td>
<td><p>DataFrame</p></td>
</tr>
<tr class="row-odd"><td><p>o.describe()</p></td>
<td><p>DataFrame</p></td>
<td><p>DataFrame</p></td>
</tr>
<tr class="row-even"><td><p>o[‘col’]</p></td>
<td><p>CASColumn</p></td>
<td><p>Series</p></td>
</tr>
<tr class="row-odd"><td><p>o[[‘col’]]</p></td>
<td><p>CASTable</p></td>
<td><p>DataFrame</p></td>
</tr>
<tr class="row-even"><td><p>o.summary()</p></td>
<td><p>CASResults</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>In the table above, the <strong>CASColumn</strong> is a subclass of <strong>CASTable</strong>
that only references a single column of the CAS table.</p>
<p>The last entry in the table above is a call to a CAS action called <strong>summary</strong>.
All CAS actions return a <strong>CASResults</strong> object (which is a subclass of
Python’s ordered dictionary).  DataFrame’s can not call CAS actions, although
you can upload a DataFrame to a CAS table using the <strong>CAS.upload()</strong> method.</p>
<p>It is possible to convert all of the data from a CAS table into a DataFrame by
using the <strong>CASTable.to_frame()</strong> method, however, you do need to be careful.
It will attempt to pull all of the data down regardless of size.</p>
<p><strong>CASColumn</strong> objects work much in the same was as <strong>CASTable</strong> objects
except that they operate on a single column of data like a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.Series.html#pandas.Series" title="(in pandas v0.19.2)"><strong>pandas.Series</strong></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 30%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>CASColumn</p></th>
<th class="head"><p>Series</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>c.head()</p></td>
<td><p>Series</p></td>
<td><p>Series</p></td>
</tr>
<tr class="row-odd"><td><p>c[c.col &gt; 1]</p></td>
<td><p>CASColumn</p></td>
<td><p>Series</p></td>
</tr>
</tbody>
</table>
<div class="section" id="pandas-dataframe-vs-sasdataframe">
<h2>Pandas DataFrame vs. SASDataFrame<a class="headerlink" href="#pandas-dataframe-vs-sasdataframe" title="Permalink to this headline">¶</a></h2>
<p><strong>SASDataFrame</strong> is a subclass of <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a>.  Therefore, anything
you can do with a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a> will also work with <strong>SASDataFrame</strong>.
The only difference is that <strong>SASDataFrame</strong> objects contain extra metadata
familiar to SAS users.  This includes a title, label, name, a dictionary of extended
attributes for information such as By groups and system titles (<strong>attrs</strong>), and
a dictionary of column metadata (<strong>colinfo</strong>).</p>
<p>Also, since SAS has both formatted and raw values for By groups, <strong>SASDataFrame</strong>
objects also have a method called <strong>SASDataFrame.reshape_bygroups()</strong> to change
the way that By group information in represented in the DataFrame.  See the
<a class="reference internal" href="bygroups.html#bygroups"><span class="std std-ref">By group documentation</span></a> for more information.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indexing.html" class="btn btn-neutral float-right" title="Indexing and Data Selection" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="loading-data.html" class="btn btn-neutral float-left" title="Loading Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 SAS Institute Inc. All Rights Reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>