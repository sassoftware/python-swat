

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sorting &mdash; SWAT 1.9.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="Handling By Groups" href="bygroups.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SWAT
          

          
          </a>

          
            
            
              <div class="version">
                1.9.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="binary-vs-rest.html">Binary vs. REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">Encryption (SSL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading-data.html">Loading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="table-vs-dataframe.html">CASTable vs. DataFrame vs. SASDataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Data Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="bygroups.html">Handling By Groups</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Programming Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas-tk.html">SAS TK</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SWAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Sorting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/sorting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sorting">
<h1>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h1>
<p>Since data in CAS can be spread across many machines and may even be redistributed
depending on events that occur, the data is not stored in an ordered form.
In general, when using statistical actions, this doesn’t make much difference
since the CAS actions doing the work will handle the data regardless of the
order that it is in.  However, when you are bringing a table of data back to
the client from CAS using the <strong>fetch</strong> action, you may want to have it come
back in a sorted form.</p>
<pre class="literal-block">In [1]: conn = swat.CAS(host, port, username, password)

In [2]: tbl = conn.read_csv('https://raw.githubusercontent.com/'
   ...:                     'sassoftware/sas-viya-programming/master/data/cars.csv')
   ...: 
<br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMP1CNAWMXQ in caslib CASUSER(castest).
<br/><strong class="param-meta">Note:</strong> The table TMP1CNAWMXQ has been created in caslib CASUSER(castest) from binary data uploaded to Cloud Analytic Services.

In [3]: tbl.fetch(to=5)
Out[3]: 
[Fetch]

 Selected Rows from Table TMP1CNAWMXQ
 
     Make           Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length
 0  Acura             MDX    SUV   Asia        All  36945.0  33337.0         3.5        6.0       265.0      17.0         23.0  4451.0      106.0   189.0
 1  Acura  RSX Type S 2dr  Sedan   Asia      Front  23820.0  21761.0         2.0        4.0       200.0      24.0         31.0  2778.0      101.0   172.0
 2  Acura         TSX 4dr  Sedan   Asia      Front  26990.0  24647.0         2.4        4.0       200.0      22.0         29.0  3230.0      105.0   183.0
 3  Acura          TL 4dr  Sedan   Asia      Front  33195.0  30299.0         3.2        6.0       270.0      20.0         28.0  3575.0      108.0   186.0
 4  Acura      3.5 RL 4dr  Sedan   Asia      Front  43755.0  39014.0         3.5        6.0       225.0      18.0         24.0  3880.0      115.0   197.0

+ Elapsed: 0.00813s, user: 0.005s, sys: 0.002s, mem: 2.09mb

In [4]: tbl.fetch(to=5, sortby=['MSRP'])
Out[4]: 
[Fetch]

 Selected Rows from Table TMP1CNAWMXQ
 
       Make             Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length
 0      Kia    Rio 4dr manual  Sedan   Asia      Front  10280.0   9875.0         1.6        4.0       104.0      26.0         33.0  2403.0       95.0   167.0
 1  Hyundai  Accent 2dr hatch  Sedan   Asia      Front  10539.0  10107.0         1.6        4.0       103.0      29.0         33.0  2255.0       96.0   167.0
 2   Toyota   Echo 2dr manual  Sedan   Asia      Front  10760.0  10144.0         1.5        4.0       108.0      35.0         43.0  2035.0       93.0   163.0
 3   Saturn          Ion1 4dr  Sedan    USA      Front  10995.0  10319.0         2.2        4.0       140.0      26.0         35.0  2692.0      103.0   185.0
 4      Kia      Rio 4dr auto  Sedan   Asia      Front  11155.0  10705.0         1.6        4.0       104.0      25.0         32.0  2458.0       95.0   167.0

+ Elapsed: 0.015s, user: 0.013s, sys: 0.001s, mem: 6.83mb</pre>
<p>Of course, it is possible to set the direction of the sorting as well.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">to</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sortby</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;MSRP&#39;</span><span class="p">,</span> <span class="s1">&#39;order&#39;</span><span class="p">:</span><span class="s1">&#39;descending&#39;</span><span class="p">}])</span>
<span class="gh">Out[5]: </span><span class="go"></span>
<span class="go">[Fetch]</span>

<span class="go"> Selected Rows from Table TMP1CNAWMXQ</span>
<span class="go"> </span>
<span class="go">             Make                  Model    Type  Origin DriveTrain      MSRP   Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go"> 0        Porsche            911 GT2 2dr  Sports  Europe       Rear  192465.0  173560.0         3.6        6.0       477.0      17.0         24.0  3131.0       93.0   175.0</span>
<span class="go"> 1  Mercedes-Benz              CL600 2dr   Sedan  Europe       Rear  128420.0  119600.0         5.5       12.0       493.0      13.0         19.0  4473.0      114.0   196.0</span>
<span class="go"> 2  Mercedes-Benz  SL600 convertible 2dr  Sports  Europe       Rear  126670.0  117854.0         5.5       12.0       493.0      13.0         19.0  4429.0      101.0   179.0</span>
<span class="go"> 3  Mercedes-Benz           SL55 AMG 2dr  Sports  Europe       Rear  121770.0  113388.0         5.5        8.0       493.0      14.0         21.0  4235.0      101.0   179.0</span>
<span class="go"> 4  Mercedes-Benz              CL500 2dr   Sedan  Europe       Rear   94820.0   88324.0         5.0        8.0       302.0      16.0         24.0  4085.0      114.0   196.0</span>

<span class="go">+ Elapsed: 0.0139s, user: 0.013s, sys: 0.001s, mem: 6.83mb</span>
</pre></div>
</div>
<p>If you are using the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a> style API for <strong>CASTable</strong>,
you can also use the <strong>sort_values()</strong> method on <strong>CASTable</strong> objects.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">sorttbl</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;MSRP&#39;</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">sorttbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[7]: </span><span class="go"></span>
<span class="go">Selected Rows from Table TMP1CNAWMXQ</span>

<span class="go">      Make             Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go">0      Kia    Rio 4dr manual  Sedan   Asia      Front  10280.0   9875.0         1.6        4.0       104.0      26.0         33.0  2403.0       95.0   167.0</span>
<span class="go">1  Hyundai  Accent 2dr hatch  Sedan   Asia      Front  10539.0  10107.0         1.6        4.0       103.0      29.0         33.0  2255.0       96.0   167.0</span>
<span class="go">2   Toyota   Echo 2dr manual  Sedan   Asia      Front  10760.0  10144.0         1.5        4.0       108.0      35.0         43.0  2035.0       93.0   163.0</span>
<span class="go">3   Saturn          Ion1 4dr  Sedan    USA      Front  10995.0  10319.0         2.2        4.0       140.0      26.0         35.0  2692.0      103.0   185.0</span>
<span class="go">4      Kia      Rio 4dr auto  Sedan   Asia      Front  11155.0  10705.0         1.6        4.0       104.0      25.0         32.0  2458.0       95.0   167.0</span>

<span class="gp">In [8]: </span><span class="n">sorttbl</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;MSRP&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [9]: </span><span class="n">sorttbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[9]: </span><span class="go"></span>
<span class="go">Selected Rows from Table TMP1CNAWMXQ</span>

<span class="go">            Make                  Model    Type  Origin DriveTrain      MSRP   Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go">0        Porsche            911 GT2 2dr  Sports  Europe       Rear  192465.0  173560.0         3.6        6.0       477.0      17.0         24.0  3131.0       93.0   175.0</span>
<span class="go">1  Mercedes-Benz              CL600 2dr   Sedan  Europe       Rear  128420.0  119600.0         5.5       12.0       493.0      13.0         19.0  4473.0      114.0   196.0</span>
<span class="go">2  Mercedes-Benz  SL600 convertible 2dr  Sports  Europe       Rear  126670.0  117854.0         5.5       12.0       493.0      13.0         19.0  4429.0      101.0   179.0</span>
<span class="go">3  Mercedes-Benz           SL55 AMG 2dr  Sports  Europe       Rear  121770.0  113388.0         5.5        8.0       493.0      14.0         21.0  4235.0      101.0   179.0</span>
<span class="go">4  Mercedes-Benz              CL500 2dr   Sedan  Europe       Rear   94820.0   88324.0         5.0        8.0       302.0      16.0         24.0  4085.0      114.0   196.0</span>
</pre></div>
</div>
<p>As previously mentioned, this doesn’t affect anything in the table on the
CAS server itself, it merely stores away the sort keys and applies them
when data is fetched (either through <strong>fetch</strong> directly, or any method that
calls <strong>fetch</strong> in the background).</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bygroups.html" class="btn btn-neutral float-left" title="Handling By Groups" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 SAS Institute Inc. All Rights Reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>