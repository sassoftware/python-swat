

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Workflows &mdash; SWAT 1.16.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=e2aa0a4e"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Binary vs. REST" href="binary-vs-rest.html" />
    <link rel="prev" title="Getting Started" href="getting-started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SWAT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-easy-way">The Easy Way</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-response-and-result-callbacks">Using Response and Result Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-multiple-actions-simultaneously">Handling Multiple Actions Simultaneously</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="binary-vs-rest.html">Binary vs. REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">Encryption (SSL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading-data.html">Loading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="table-vs-dataframe.html">CASTable vs. DataFrame vs. SASDataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Data Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="bygroups.html">Handling By Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="sorting.html">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Programming Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas-tk.html">SAS TK</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SWAT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Workflows</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/workflows.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="workflows">
<h1>Workflows<a class="headerlink" href="#workflows" title="Link to this heading"></a></h1>
<p>The SWAT package includes the ability to call CAS actions and process the
output in various ways.  These range from simple (calling CAS actions as Python
methods and getting a dictionary of results back) to complex (invoking CAS
actions in multiple sessions and handling server responses from them directly).
The various workflows are described in the following sections to give you an idea
of how the classes in SWAT interact with each other.</p>
<section id="the-easy-way">
<h2>The Easy Way<a class="headerlink" href="#the-easy-way" title="Link to this heading"></a></h2>
<p>In the most basic form of calling CAS actions, the actions are called directly
on the connection object or a <strong>CASTable</strong> object.  When you load a CAS
action set (using <strong>builtins.loadactionset</strong>), the CAS actions in that action set
are added to the connection object as Python methods.  For example, when the
<strong>simple</strong> action set is loaded, the CAS connection object is extended with
methods for <strong>summary</strong>, <strong>freq</strong>, <strong>crosstab</strong>, etc.  These can then be called on
the CAS connection object directly.</p>
<p>In addition, any <strong>CASTable</strong> objects that are registered with that connection
also get methods for those actions.  When you call a CAS action on a <strong>CASTable</strong>
object, the <strong>table=</strong> (or <strong>name=</strong> and <strong>caslib=</strong> in some cases) parameter get populated
automatically with that table object before it is sent to the CAS server.</p>
<p>Here is a simple example.  We are reading a CSV file using the <strong>CAS.read_csv()</strong>
method.  This loads the CSV data into a CAS table and returns a <strong>CASTable</strong>
object.  You can then use many of the standard <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.2)"><strong>pandas.DataFrame</strong></a> methods
such as <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html#pandas.DataFrame.head" title="(in pandas v2.3.2)"><strong>pandas.DataFrame.head()</strong></a> to interact with the CAS table on the server.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">swat</span>

<span class="gp">In [2]: </span><span class="n">conn</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ...: </span>                    <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ...: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPEVVUDCZT in caslib CASUSER(test).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPEVVUDCZT has been created in caslib CASUSER(test) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [4]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[4]: </span>
<span class="go">Selected Rows from Table TMPEVVUDCZT</span>

<span class="go">    Make           Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   Asia        All  36945.0  33337.0         3.5        6.0       265.0      17.0         23.0  4451.0      106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   Asia      Front  23820.0  21761.0         2.0        4.0       200.0      24.0         31.0  2778.0      101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   Asia      Front  26990.0  24647.0         2.4        4.0       200.0      22.0         29.0  3230.0      105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   Asia      Front  33195.0  30299.0         3.2        6.0       270.0      20.0         28.0  3575.0      108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   Asia      Front  43755.0  39014.0         3.5        6.0       225.0      18.0         24.0  3880.0      115.0   197.0</span>
</pre></div>
</div>
<p>You can call CAS actions directly on the <strong>CAS</strong> connection object and
pass in the table argument, or you can call the CAS action directly on the
<strong>CASTable</strong> object from <strong>CAS.read_csv()</strong>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">conn</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">tbl</span><span class="p">)</span>
<span class="gh">Out[5]: </span>
<span class="go">[Summary]</span>

<span class="go"> Descriptive Statistics for TMPEVVUDCZT</span>
<span class="go"> </span>
<span class="go">         Column      Min       Max      N  NMiss          Mean         Sum           Std      StdErr           Var           USS           CSS         CV      TValue          ProbT  Skewness   Kurtosis</span>
<span class="go"> 0         MSRP  10280.0  192465.0  428.0    0.0  32774.855140  14027638.0  19431.716674  939.267478  3.775916e+08  6.209854e+11  1.612316e+11  59.288490   34.894059  4.160412e-127  2.798099  13.879206</span>
<span class="go"> 1      Invoice   9875.0  173560.0  428.0    0.0  30014.700935  12846292.0  17642.117750  852.763949  3.112443e+08  5.184789e+11  1.329013e+11  58.778256   35.196963  2.684398e-128  2.834740  13.946164</span>
<span class="go"> 2   EngineSize      1.3       8.3  428.0    0.0      3.196729      1368.2      1.108595    0.053586  1.228982e+00  4.898540e+03  5.247754e+02  34.679034   59.656105  3.133745e-209  0.708152   0.541944</span>
<span class="go"> 3    Cylinders      3.0      12.0  426.0    2.0      5.807512      2474.0      1.558443    0.075507  2.428743e+00  1.540000e+04  1.032216e+03  26.834946   76.913766  1.515569e-251  0.592785   0.440378</span>
<span class="go"> 4   Horsepower     73.0     500.0  428.0    0.0    215.885514     92399.0     71.836032    3.472326  5.160415e+03  2.215110e+07  2.203497e+06  33.275059   62.173176  4.185344e-216  0.930331   1.552159</span>
<span class="go"> 5     MPG_City     10.0      60.0  428.0    0.0     20.060748      8586.0      5.238218    0.253199  2.743892e+01  1.839580e+05  1.171642e+04  26.111777   79.229235  1.866284e-257  2.782072  15.791147</span>
<span class="go"> 6  MPG_Highway     12.0      66.0  428.0    0.0     26.843458     11489.0      5.741201    0.277511  3.296139e+01  3.224790e+05  1.407451e+04  21.387709   96.729204  1.665621e-292  1.252395   6.045611</span>
<span class="go"> 7       Weight   1850.0    7190.0  428.0    0.0   3577.953271   1531364.0    758.983215   36.686838  5.760555e+05  5.725125e+09  2.459757e+08  21.212776   97.526890  5.812547e-294  0.891824   1.688789</span>
<span class="go"> 8    Wheelbase     89.0     144.0  428.0    0.0    108.154206     46290.0      8.311813    0.401767  6.908624e+01  5.035958e+06  2.949982e+04   7.685150  269.196577   0.000000e+00  0.962287   2.133649</span>
<span class="go"> 9       Length    143.0     238.0  428.0    0.0    186.362150     79763.0     14.357991    0.694020  2.061519e+02  1.495283e+07  8.802687e+04   7.704349  268.525733   0.000000e+00  0.181977   0.614725</span>

<span class="go">+ Elapsed: 0.00456s, user: 0.00679s, mem: 4.45mb</span>

<span class="gp">In [6]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gh">Out[6]: </span>
<span class="go">[Summary]</span>

<span class="go"> Descriptive Statistics for TMPEVVUDCZT</span>
<span class="go"> </span>
<span class="go">         Column      Min       Max      N  NMiss          Mean         Sum           Std      StdErr           Var           USS           CSS         CV      TValue          ProbT  Skewness   Kurtosis</span>
<span class="go"> 0         MSRP  10280.0  192465.0  428.0    0.0  32774.855140  14027638.0  19431.716674  939.267478  3.775916e+08  6.209854e+11  1.612316e+11  59.288490   34.894059  4.160412e-127  2.798099  13.879206</span>
<span class="go"> 1      Invoice   9875.0  173560.0  428.0    0.0  30014.700935  12846292.0  17642.117750  852.763949  3.112443e+08  5.184789e+11  1.329013e+11  58.778256   35.196963  2.684398e-128  2.834740  13.946164</span>
<span class="go"> 2   EngineSize      1.3       8.3  428.0    0.0      3.196729      1368.2      1.108595    0.053586  1.228982e+00  4.898540e+03  5.247754e+02  34.679034   59.656105  3.133745e-209  0.708152   0.541944</span>
<span class="go"> 3    Cylinders      3.0      12.0  426.0    2.0      5.807512      2474.0      1.558443    0.075507  2.428743e+00  1.540000e+04  1.032216e+03  26.834946   76.913766  1.515569e-251  0.592785   0.440378</span>
<span class="go"> 4   Horsepower     73.0     500.0  428.0    0.0    215.885514     92399.0     71.836032    3.472326  5.160415e+03  2.215110e+07  2.203497e+06  33.275059   62.173176  4.185344e-216  0.930331   1.552159</span>
<span class="go"> 5     MPG_City     10.0      60.0  428.0    0.0     20.060748      8586.0      5.238218    0.253199  2.743892e+01  1.839580e+05  1.171642e+04  26.111777   79.229235  1.866284e-257  2.782072  15.791147</span>
<span class="go"> 6  MPG_Highway     12.0      66.0  428.0    0.0     26.843458     11489.0      5.741201    0.277511  3.296139e+01  3.224790e+05  1.407451e+04  21.387709   96.729204  1.665621e-292  1.252395   6.045611</span>
<span class="go"> 7       Weight   1850.0    7190.0  428.0    0.0   3577.953271   1531364.0    758.983215   36.686838  5.760555e+05  5.725125e+09  2.459757e+08  21.212776   97.526890  5.812547e-294  0.891824   1.688789</span>
<span class="go"> 8    Wheelbase     89.0     144.0  428.0    0.0    108.154206     46290.0      8.311813    0.401767  6.908624e+01  5.035958e+06  2.949982e+04   7.685150  269.196577   0.000000e+00  0.962287   2.133649</span>
<span class="go"> 9       Length    143.0     238.0  428.0    0.0    186.362150     79763.0     14.357991    0.694020  2.061519e+02  1.495283e+07  8.802687e+04   7.704349  268.525733   0.000000e+00  0.181977   0.614725</span>

<span class="go">+ Elapsed: 0.00455s, user: 0.00258s, sys: 0.00344s, mem: 4.44mb</span>

<span class="gp">In [7]: </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The output from the CAS action methods is always a <strong>CASResults</strong> object.
This is simply an ordered Python dictionary with a few extra attributes and
methods added.  You can see the keys printed in the output above (surround by
square brackets).  This output only contains a single key: <strong>Summary</strong>.</p>
<p>Here is a diagram showing the process of calling and action and consuming
the responses into the <strong>CASResults</strong> object.</p>
<img alt="_images/easyway-workflow.png" src="_images/easyway-workflow.png" />
</section>
<section id="using-response-and-result-callbacks">
<h2>Using Response and Result Callbacks<a class="headerlink" href="#using-response-and-result-callbacks" title="Link to this heading"></a></h2>
<p>The next workflow is to use callback functions to handle either the responses
from the CAS server, or the individual result keys in the responses.  You
still use the CAS action methods on the <strong>CAS</strong> connection object, but this
time you add either a <strong>responsefunc=</strong> or <strong>resultfunc=</strong> function argument.</p>
<p>The result callback function takes five arguments: <strong>key</strong>, <strong>value</strong>, <strong>response</strong>,
<strong>connection</strong>, and <strong>userdata</strong>.  Those are the result key and value, the response the result
belongs to, the connection that the result belongs to, and an arbitrary user data
structure.</p>
<p>The response callback just takes three arguments for the response, connection,
and user data structure.</p>
<p>The result callback and response callback are called for each result and response,
respectively.  Keep in mind that you can only specify one or the other (a
response callback would override a result callback).  If you want to keep any sort
of state information between calls, you can store it in the <strong>userdata</strong> argument
and return it.  The returned value will get passed in as the <strong>userdata</strong> argument
on the next call.</p>
<p>Here is an example demonstrating both styles of callbacks.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">swat</span>

<span class="gp">In [9]: </span><span class="n">conn</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                    <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMP8EPH1DI1 in caslib CASUSER(test).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMP8EPH1DI1 has been created in caslib CASUSER(test) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [11]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[11]: </span>
<span class="go">Selected Rows from Table TMP8EPH1DI1</span>

<span class="go">    Make           Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   Asia        All  36945.0  33337.0         3.5        6.0       265.0      17.0         23.0  4451.0      106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   Asia      Front  23820.0  21761.0         2.0        4.0       200.0      24.0         31.0  2778.0      101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   Asia      Front  26990.0  24647.0         2.4        4.0       200.0      22.0         29.0  3230.0      105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   Asia      Front  33195.0  30299.0         3.2        6.0       270.0      20.0         28.0  3575.0      108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   Asia      Front  43755.0  39014.0         3.5        6.0       225.0      18.0         24.0  3880.0      115.0   197.0</span>

<span class="gp">In [12]: </span><span class="k">def</span><span class="w"> </span><span class="nf">result_cb</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">userdata</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESULT&#39;</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">userdata</span>
<span class="gp">   ....: </span>

<span class="gp">In [13]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">resultfunc</span><span class="o">=</span><span class="n">result_cb</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMP8EPH1DI1</span>

<span class="go">        Column      Min       Max  ...          ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0  ...  4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0  ...  2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3  ...  3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0  ...  1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0  ...  4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0  ...  1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0  ...  1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0  ...  5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0  ...   0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0  ...   0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [14]: </span><span class="k">def</span><span class="w"> </span><span class="nf">response_cb</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">userdata</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESPONSE&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">userdata</span>
<span class="gp">   ....: </span>

<span class="gp">In [15]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">responsefunc</span><span class="o">=</span><span class="n">response_cb</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt; RESPONSE Summary Descriptive Statistics for TMP8EPH1DI1</span>

<span class="go">        Column      Min       Max  ...          ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0  ...  4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0  ...  2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3  ...  3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0  ...  1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0  ...  4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0  ...  1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0  ...  1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0  ...  5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0  ...   0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0  ...   0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [16]: </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Here is the flow diagram for using callbacks.  Note that only the result <strong>or</strong>
response callback is called.  It will not call both.</p>
<img alt="_images/callbacks-workflow.png" src="_images/callbacks-workflow.png" />
</section>
<section id="handling-multiple-actions-simultaneously">
<h2>Handling Multiple Actions Simultaneously<a class="headerlink" href="#handling-multiple-actions-simultaneously" title="Link to this heading"></a></h2>
<p>The final workflow is the most hands-on, but also offers the most flexibility.
For most cases, you can use the callback form to handle any size of data coming
back from the CAS server.  However, in that mode, you can only run one action
at a time.  If you want to run simultaneous actions and handle the responses
as they come back from either connection, you need to use the <strong>CAS.invoke()</strong>
method.</p>
<p>The <strong>CAS.invoke()</strong> method calls a CAS action, but doesn’t automatically retrieve
the responses.  You must iterate over the connection object to get the responses.
To iterate over the responses for multiple connections, you can use the
<strong>getnext()</strong> function.  Using this technique, you can take advantage of
running multiple CAS actions simultaneously while still just running in a single
thread on the client.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">swat</span>

<span class="gp">In [18]: </span><span class="n">conn1</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">conn2</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">tbl1</span> <span class="o">=</span> <span class="n">conn1</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/class.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPDIFHFG1E in caslib CASUSER(test).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPDIFHFG1E has been created in caslib CASUSER(test) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [21]: </span><span class="n">tbl1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[21]: </span>
<span class="go">Selected Rows from Table TMPDIFHFG1E</span>

<span class="go">      Name Sex   Age  Height  Weight</span>
<span class="go">0   Alfred   M  14.0    69.0   112.5</span>
<span class="go">1    Alice   F  13.0    56.5    84.0</span>
<span class="go">2  Barbara   F  13.0    65.3    98.0</span>
<span class="go">3    Carol   F  14.0    62.8   102.5</span>
<span class="go">4    Henry   M  14.0    63.5   102.5</span>

<span class="gp">In [22]: </span><span class="n">tbl2</span> <span class="o">=</span> <span class="n">conn2</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPYDKAJHZO in caslib CASUSER(test).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPYDKAJHZO has been created in caslib CASUSER(test) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [23]: </span><span class="n">tbl2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[23]: </span>
<span class="go">Selected Rows from Table TMPYDKAJHZO</span>

<span class="go">    Make           Model   Type Origin DriveTrain     MSRP  Invoice  EngineSize  Cylinders  Horsepower  MPG_City  MPG_Highway  Weight  Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   Asia        All  36945.0  33337.0         3.5        6.0       265.0      17.0         23.0  4451.0      106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   Asia      Front  23820.0  21761.0         2.0        4.0       200.0      24.0         31.0  2778.0      101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   Asia      Front  26990.0  24647.0         2.4        4.0       200.0      22.0         29.0  3230.0      105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   Asia      Front  33195.0  30299.0         3.2        6.0       270.0      20.0         28.0  3575.0      108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   Asia      Front  43755.0  39014.0         3.5        6.0       225.0      18.0         24.0  3880.0      115.0   197.0</span>
</pre></div>
</div>
<p>Now that we have the tables loaded, we can invoke the <strong>summary</strong> action on each
one and retrieve the responses from both connections.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">tbl1</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">);</span>

<span class="gp">In [25]: </span><span class="n">tbl2</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">);</span>

<span class="gp">In [26]: </span><span class="k">for</span> <span class="n">resp</span><span class="p">,</span> <span class="n">conn</span> <span class="ow">in</span> <span class="n">swat</span><span class="o">.</span><span class="n">getnext</span><span class="p">(</span><span class="n">conn1</span><span class="p">,</span> <span class="n">conn2</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESULT&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMPDIFHFG1E</span>

<span class="go">   Column   Min    Max     N  ...     TValue         ProbT  Skewness  Kurtosis</span>
<span class="go">0     Age  11.0   16.0  19.0  ...  38.884748  8.049260e-19  0.063612 -1.110926</span>
<span class="go">1  Height  51.3   72.0  19.0  ...  52.997076  3.202374e-21 -0.259670 -0.138969</span>
<span class="go">2  Weight  50.5  150.0  19.0  ...  19.144897  2.045197e-13  0.183351  0.683365</span>

<span class="go">[3 rows x 17 columns]</span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMPYDKAJHZO</span>

<span class="go">        Column      Min       Max  ...          ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0  ...  4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0  ...  2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3  ...  3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0  ...  1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0  ...  4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0  ...  1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0  ...  1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0  ...  5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0  ...   0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0  ...   0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [27]: </span><span class="n">conn1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [28]: </span><span class="n">conn2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The flow diagram for handling multiple connections simultaneously is shown below.</p>
<img alt="_images/simultaneous-workflow.png" src="_images/simultaneous-workflow.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting-started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="binary-vs-rest.html" class="btn btn-neutral float-right" title="Binary vs. REST" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 SAS Institute Inc. All Rights Reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>