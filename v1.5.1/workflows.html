

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflows &mdash; SWAT 1.5.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="SWAT 1.5.1 documentation" href="index.html"/>
        <link rel="next" title="Binary vs. REST" href="binary-vs-rest.html"/>
        <link rel="prev" title="Getting Started" href="getting-started.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SWAT
          

          
          </a>

          
            
            
              <div class="version">
                1.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-easy-way">The Easy Way</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-response-and-result-callbacks">Using Response and Result Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-multiple-actions-simultaneously">Handling Multiple Actions Simultaneously</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="binary-vs-rest.html">Binary vs. REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">Encryption (SSL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading-data.html">Loading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="table-vs-dataframe.html">CASTable vs. DataFrame vs. SASDataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Data Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="bygroups.html">Handling By Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="sorting.html">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Programming Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas-tk.html">SAS TK</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SWAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Workflows</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/workflows.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="workflows">
<h1>Workflows<a class="headerlink" href="#workflows" title="Permalink to this headline">¶</a></h1>
<p>The SWAT package includes the ability to call CAS actions and process the
output in various ways.  These range from simple (calling CAS actions as Python
methods and getting a dictionary of results back) to complex (invoking CAS
actions in multiple sessions and handling server responses from them directly).
The various workflows are described in the following sections to give you an idea
of how the classes in SWAT interact with each other.</p>
<div class="section" id="the-easy-way">
<h2>The Easy Way<a class="headerlink" href="#the-easy-way" title="Permalink to this headline">¶</a></h2>
<p>In the most basic form of calling CAS actions, the actions are called directly
on the connection object or a <strong>CASTable</strong> object.  When you load a CAS
action set (using <strong>builtins.loadactionset</strong>), the CAS actions in that action set
are added to the connection object as Python methods.  For example, when the
<strong>simple</strong> action set is loaded, the CAS connection object is extended with
methods for <strong>summary</strong>, <strong>freq</strong>, <strong>crosstab</strong>, etc.  These can then be called on
the CAS connection object directly.</p>
<p>In addition, any <strong>CASTable</strong> objects that are registered with that connection
also get methods for those actions.  When you call a CAS action on a <strong>CASTable</strong>
object, the <strong>table=</strong> (or <strong>name=</strong> and <strong>caslib=</strong> in some cases) parameter get populated
automatically with that table object before it is sent to the CAS server.</p>
<p>Here is a simple example.  We are reading a CSV file using the <strong>CAS.read_csv()</strong>
method.  This loads the CSV data into a CAS table and returns a <strong>CASTable</strong>
object.  You can then use many of the standard <a class="reference external" href="http://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><strong>pandas.DataFrame</strong></a> methods
such as <a class="reference external" href="http://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.DataFrame.head.html#pandas.DataFrame.head" title="(in pandas v0.19.2)"><strong>pandas.DataFrame.head()</strong></a> to interact with the CAS table on the server.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">swat</span>

<span class="gp">In [2]: </span><span class="n">conn</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ...: </span>                    <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ...: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPG6IYVU3Q in caslib CASUSER(castest).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPG6IYVU3Q has been created in caslib CASUSER(castest) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [4]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                                                                                                                                                                                                                                              Out[4]: </span>
<span class="go">Selected Rows from Table TMPG6IYVU3Q</span>

<span class="go">    Make           Model   Type   ...    Weight Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   ...    4451.0     106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   ...    2778.0     101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   ...    3230.0     105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   ...    3575.0     108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   ...    3880.0     115.0   197.0</span>

<span class="go">[5 rows x 15 columns]</span>
</pre></div>
</div>
<p>You can call CAS actions directly on the <strong>CAS</strong> connection object and
pass in the table argument, or you can call the CAS action directly on the
<strong>CASTable</strong> object from <strong>CAS.read_csv()</strong>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">conn</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">tbl</span><span class="p">)</span>
<span class="gh">Out[5]: </span><span class="go"></span>
<span class="go">[Summary]</span>

<span class="go"> Descriptive Statistics for TMPG6IYVU3Q</span>
<span class="go"> </span>
<span class="go">         Column      Min       Max    ...              ProbT  Skewness   Kurtosis</span>
<span class="go"> 0         MSRP  10280.0  192465.0    ...      4.160412e-127  2.798099  13.879206</span>
<span class="go"> 1      Invoice   9875.0  173560.0    ...      2.684398e-128  2.834740  13.946164</span>
<span class="go"> 2   EngineSize      1.3       8.3    ...      3.133745e-209  0.708152   0.541944</span>
<span class="go"> 3    Cylinders      3.0      12.0    ...      1.515569e-251  0.592785   0.440378</span>
<span class="go"> 4   Horsepower     73.0     500.0    ...      4.185344e-216  0.930331   1.552159</span>
<span class="go"> 5     MPG_City     10.0      60.0    ...      1.866284e-257  2.782072  15.791147</span>
<span class="go"> 6  MPG_Highway     12.0      66.0    ...      1.665621e-292  1.252395   6.045611</span>
<span class="go"> 7       Weight   1850.0    7190.0    ...      5.812547e-294  0.891824   1.688789</span>
<span class="go"> 8    Wheelbase     89.0     144.0    ...       0.000000e+00  0.962287   2.133649</span>
<span class="go"> 9       Length    143.0     238.0    ...       0.000000e+00  0.181977   0.614725</span>
<span class="go"> </span>
<span class="go"> [10 rows x 17 columns]</span>

<span class="go">+ Elapsed: 0.0162s, user: 0.013s, sys: 0.006s, mem: 5.36mb</span>

<span class="gp">In [6]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Out[6]: </span>
<span class="go">[Summary]</span>

<span class="go"> Descriptive Statistics for TMPG6IYVU3Q</span>
<span class="go"> </span>
<span class="go">         Column      Min       Max    ...              ProbT  Skewness   Kurtosis</span>
<span class="go"> 0         MSRP  10280.0  192465.0    ...      4.160412e-127  2.798099  13.879206</span>
<span class="go"> 1      Invoice   9875.0  173560.0    ...      2.684398e-128  2.834740  13.946164</span>
<span class="go"> 2   EngineSize      1.3       8.3    ...      3.133745e-209  0.708152   0.541944</span>
<span class="go"> 3    Cylinders      3.0      12.0    ...      1.515569e-251  0.592785   0.440378</span>
<span class="go"> 4   Horsepower     73.0     500.0    ...      4.185344e-216  0.930331   1.552159</span>
<span class="go"> 5     MPG_City     10.0      60.0    ...      1.866284e-257  2.782072  15.791147</span>
<span class="go"> 6  MPG_Highway     12.0      66.0    ...      1.665621e-292  1.252395   6.045611</span>
<span class="go"> 7       Weight   1850.0    7190.0    ...      5.812547e-294  0.891824   1.688789</span>
<span class="go"> 8    Wheelbase     89.0     144.0    ...       0.000000e+00  0.962287   2.133649</span>
<span class="go"> 9       Length    143.0     238.0    ...       0.000000e+00  0.181977   0.614725</span>
<span class="go"> </span>
<span class="go"> [10 rows x 17 columns]</span>

<span class="go">+ Elapsed: 0.0147s, user: 0.014s, sys: 0.003s, mem: 5.34mb</span>

<span class="gp">In [7]: </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The output from the CAS action methods is always a <strong>CASResults</strong> object.
This is simply an ordered Python dictionary with a few extra attributes and
methods added.  You can see the keys printed in the output above (surround by
square brackets).  This output only contains a single key: <strong>Summary</strong>.</p>
<p>Here is a diagram showing the process of calling and action and consuming
the responses into the <strong>CASResults</strong> object.</p>
<img alt="_images/easyway-workflow.png" src="_images/easyway-workflow.png" />
</div>
<div class="section" id="using-response-and-result-callbacks">
<h2>Using Response and Result Callbacks<a class="headerlink" href="#using-response-and-result-callbacks" title="Permalink to this headline">¶</a></h2>
<p>The next workflow is to use callback functions to handle either the responses
from the CAS server, or the individual result keys in the responses.  You
still use the CAS action methods on the <strong>CAS</strong> connection object, but this
time you add either a <strong>responsefunc=</strong> or <strong>resultfunc=</strong> function argument.</p>
<p>The result callback function takes five arguments: <strong>key</strong>, <strong>value</strong>, <strong>response</strong>,
<strong>connection</strong>, and <strong>userdata</strong>.  Those are the result key and value, the response the result
belongs to, the connection that the result belongs to, and an arbitrary user data
structure.</p>
<p>The response callback just takes three arguments for the response, connection,
and user data structure.</p>
<p>The result callback and response callback are called for each result and response,
respectively.  Keep in mind that you can only specify one or the other (a
response callback would override a result callback).  If you want to keep any sort
of state information between calls, you can store it in the <strong>userdata</strong> argument
and return it.  The returned value will get passed in as the <strong>userdata</strong> argument
on the next call.</p>
<p>Here is an example demonstrating both styles of callbacks.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="kn">import</span> <span class="nn">swat</span>

<span class="gp">In [9]: </span><span class="n">conn</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                    <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPB2BHO14H in caslib CASUSER(castest).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPB2BHO14H has been created in caslib CASUSER(castest) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [11]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                                                                                                                                                                                                                                              Out[11]: </span>
<span class="go">Selected Rows from Table TMPB2BHO14H</span>

<span class="go">    Make           Model   Type   ...    Weight Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   ...    4451.0     106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   ...    2778.0     101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   ...    3230.0     105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   ...    3575.0     108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   ...    3880.0     115.0   197.0</span>

<span class="go">[5 rows x 15 columns]</span>

<span class="gp">In [12]: </span><span class="k">def</span> <span class="nf">result_cb</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">userdata</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESULT&#39;</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">userdata</span>
<span class="gp">   ....: </span>

<span class="gp">In [13]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">resultfunc</span><span class="o">=</span><span class="n">result_cb</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMPB2BHO14H</span>

<span class="go">        Column      Min       Max    ...              ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0    ...      4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0    ...      2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3    ...      3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0    ...      1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0    ...      4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0    ...      1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0    ...      1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0    ...      5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0    ...       0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0    ...       0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [14]: </span><span class="k">def</span> <span class="nf">response_cb</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">userdata</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESPONSE&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">userdata</span>
<span class="gp">   ....: </span>

<span class="gp">In [15]: </span><span class="n">tbl</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">responsefunc</span><span class="o">=</span><span class="n">response_cb</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt; RESPONSE Summary Descriptive Statistics for TMPB2BHO14H</span>

<span class="go">        Column      Min       Max    ...              ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0    ...      4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0    ...      2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3    ...      3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0    ...      1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0    ...      4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0    ...      1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0    ...      1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0    ...      5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0    ...       0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0    ...       0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [16]: </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Here is the flow diagram for using callbacks.  Note that only the result <strong>or</strong>
response callback is called.  It will not call both.</p>
<img alt="_images/callbacks-workflow.png" src="_images/callbacks-workflow.png" />
</div>
<div class="section" id="handling-multiple-actions-simultaneously">
<h2>Handling Multiple Actions Simultaneously<a class="headerlink" href="#handling-multiple-actions-simultaneously" title="Permalink to this headline">¶</a></h2>
<p>The final workflow is the most hands-on, but also offers the most flexibility.
For most cases, you can use the callback form to handle any size of data coming
back from the CAS server.  However, in that mode, you can only run one action
at a time.  If you want to run simultaneous actions and handle the responses
as they come back from either connection, you need to use the <strong>CAS.invoke()</strong>
method.</p>
<p>The <strong>CAS.invoke()</strong> method calls a CAS action, but doesn’t automatically retrieve
the responses.  You must iterate over the connection object to get the responses.
To iterate over the responses for multiple connections, you can use the
<strong>getnext()</strong> function.  Using this technique, you can take advantage of
running multiple CAS actions simultaneously while still just running in a single
thread on the client.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">import</span> <span class="nn">swat</span>

<span class="gp">In [18]: </span><span class="n">conn1</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">conn2</span> <span class="o">=</span> <span class="n">swat</span><span class="o">.</span><span class="n">CAS</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">tbl1</span> <span class="o">=</span> <span class="n">conn1</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/class.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go"><br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMPV2ME06EL in caslib CASUSER(castest).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMPV2ME06EL has been created in caslib CASUSER(castest) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [21]: </span><span class="n">tbl1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                                                                                                                                                                                                                                              Out[21]: </span>
<span class="go">Selected Rows from Table TMPV2ME06EL</span>

<span class="go">      Name Sex   Age  Height  Weight</span>
<span class="go">0   Alfred   M  14.0    69.0   112.5</span>
<span class="go">1    Alice   F  13.0    56.5    84.0</span>
<span class="go">2  Barbara   F  13.0    65.3    98.0</span>
<span class="go">3    Carol   F  14.0    62.8   102.5</span>
<span class="go">4    Henry   M  14.0    63.5   102.5</span>

<span class="gp">In [22]: </span><span class="n">tbl2</span> <span class="o">=</span> <span class="n">conn2</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/&#39;</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;sassoftware/sas-viya-programming/master/data/cars.csv&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <br/><strong class="param-meta">Note:</strong> Cloud Analytic Services made the uploaded file available as table TMP64GO0S4W in caslib CASUSER(castest).</span>
<span class="go"><br/><strong class="param-meta">Note:</strong> The table TMP64GO0S4W has been created in caslib CASUSER(castest) from binary data uploaded to Cloud Analytic Services.</span>

<span class="gp">In [23]: </span><span class="n">tbl2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Out[23]: </span>
<span class="go">Selected Rows from Table TMP64GO0S4W</span>

<span class="go">    Make           Model   Type   ...    Weight Wheelbase  Length</span>
<span class="go">0  Acura             MDX    SUV   ...    4451.0     106.0   189.0</span>
<span class="go">1  Acura  RSX Type S 2dr  Sedan   ...    2778.0     101.0   172.0</span>
<span class="go">2  Acura         TSX 4dr  Sedan   ...    3230.0     105.0   183.0</span>
<span class="go">3  Acura          TL 4dr  Sedan   ...    3575.0     108.0   186.0</span>
<span class="go">4  Acura      3.5 RL 4dr  Sedan   ...    3880.0     115.0   197.0</span>

<span class="go">[5 rows x 15 columns]</span>
</pre></div>
</div>
<p>Now that we have the tables loaded, we can invoke the <strong>summary</strong> action on each
one and retrieve the responses from both connections.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">tbl1</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">);</span>

<span class="gp">In [25]: </span><span class="n">tbl2</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">);</span>

<span class="gp">In [26]: </span><span class="k">for</span> <span class="n">resp</span><span class="p">,</span> <span class="n">conn</span> <span class="ow">in</span> <span class="n">swat</span><span class="o">.</span><span class="n">getnext</span><span class="p">(</span><span class="n">conn1</span><span class="p">,</span> <span class="n">conn2</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&gt;&gt;&gt; RESULT&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMPV2ME06EL</span>

<span class="go">   Column   Min    Max    ...            ProbT  Skewness  Kurtosis</span>
<span class="go">0     Age  11.0   16.0    ...     8.049260e-19  0.063612 -1.110926</span>
<span class="go">1  Height  51.3   72.0    ...     3.202374e-21 -0.259670 -0.138969</span>
<span class="go">2  Weight  50.5  150.0    ...     2.045197e-13  0.183351  0.683365</span>

<span class="go">[3 rows x 17 columns]</span>
<span class="go">&gt;&gt;&gt; RESULT Summary Descriptive Statistics for TMP64GO0S4W</span>

<span class="go">        Column      Min       Max    ...              ProbT  Skewness   Kurtosis</span>
<span class="go">0         MSRP  10280.0  192465.0    ...      4.160412e-127  2.798099  13.879206</span>
<span class="go">1      Invoice   9875.0  173560.0    ...      2.684398e-128  2.834740  13.946164</span>
<span class="go">2   EngineSize      1.3       8.3    ...      3.133745e-209  0.708152   0.541944</span>
<span class="go">3    Cylinders      3.0      12.0    ...      1.515569e-251  0.592785   0.440378</span>
<span class="go">4   Horsepower     73.0     500.0    ...      4.185344e-216  0.930331   1.552159</span>
<span class="go">5     MPG_City     10.0      60.0    ...      1.866284e-257  2.782072  15.791147</span>
<span class="go">6  MPG_Highway     12.0      66.0    ...      1.665621e-292  1.252395   6.045611</span>
<span class="go">7       Weight   1850.0    7190.0    ...      5.812547e-294  0.891824   1.688789</span>
<span class="go">8    Wheelbase     89.0     144.0    ...       0.000000e+00  0.962287   2.133649</span>
<span class="go">9       Length    143.0     238.0    ...       0.000000e+00  0.181977   0.614725</span>

<span class="go">[10 rows x 17 columns]</span>

<span class="gp">In [27]: </span><span class="n">conn1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [28]: </span><span class="n">conn2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The flow diagram for handling multiple connections simultaneously is shown below.</p>
<img alt="_images/simultaneous-workflow.png" src="_images/simultaneous-workflow.png" />
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="binary-vs-rest.html" class="btn btn-neutral float-right" title="Binary vs. REST" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting-started.html" class="btn btn-neutral" title="Getting Started" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 SAS Institute Inc. All Rights Reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>